(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["index"]=e():t["index"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"43fe":function(t,e,n){"use strict";n("5a17")},"5a17":function(t,e,n){},8875:function(t,e,n){var i,s,r;(function(n,o){s=[],i=o,r="function"===typeof i?i.apply(e,s):i,void 0===r||(t.exports=r)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,s,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,a=r.exec(f.stack)||o.exec(f.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,d=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");l===d&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=n.replace(i,"$1").trim());for(var h=0;h<u.length;h++){if("interactive"===u[h].readyState)return u[h];if(u[h].src===l)return u[h];if(l===d&&u[h].innerHTML&&u[h].innerHTML.trim()===s)return u[h]}return null}}return t}))},bb97:function(t,e,n){},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"install",(function(){return it})),n.d(e,"vdButton",(function(){return f})),n.d(e,"vdCard",(function(){return x})),n.d(e,"vdInput",(function(){return $})),n.d(e,"vdProgress",(function(){return z})),n.d(e,"vdLink",(function(){return F})),n.d(e,"xesImageViewer",(function(){return et})),"undefined"!==typeof window){var i=window.document.currentScript,s=n("8875");i=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s});var r=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(n.p=r[1])}var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:["vd-button","button-type-"+t.type,"button-size-"+t.size,{"vd-disabled":t.disabled}],attrs:{disabled:t.prohibit},on:{click:function(e){return t.vdClick(e)}}},[t._t("default")],2)},a=[],l={name:"vd-button",props:{type:{type:String,default:"default"},size:{type:String,default:"medium"},disabled:Boolean},methods:{vdClick(t){this.$emit("click",t)}},computed:{prohibit(){return this.disabled||void 0}}},c=l;function d(t,e,n,i,s,r,o,a){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=a?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}var u=d(c,o,a,!1,null,null,null),h=u.exports;h.install=function(t){t.component(h.name,h)};var f=h,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vd-card"},[t.$slots.header||t.header?n("div",{class:["vd-card_header","card-type-"+t.type]},[t._t("header",[t._v(" "+t._s(t.header)+" ")])],2):t._e(),n("div",{staticClass:"vd-card__body",style:t.bodyStyle},[t._t("default")],2)])},m=[],g={name:"vd-card",props:{header:{},shadow:{type:String},bodyStyle:{},type:{type:String,default:"default"}}},v=g,_=d(v,p,m,!1,null,null,null),y=_.exports;y.install=function(t){t.component(y.name,y)};var b,w,x=y,C={name:"vd-input",props:{vModel:[String,Number],type:{type:String,default:"text"},name:String,alt:String,maxlength:{type:[Number,String]},placeholder:String,width:{type:String,default:"300px"},after:String},data(){return{value:"",vdBorderErr:!1}},render(t){return t("div",{class:["vd-input"]},[t("input",{class:["vd-input__inner",{"vd-border-err":this.vdBorderErr}],domProps:{value:this.value,type:this.isCorrect,name:this.name,alt:this.alt,placeholder:this.placeholder,maxLength:this.maxlength},style:{width:this.width},on:{input:t=>{this.value=t.target.value,this.dispatch("input",t.target.value,t),this.dispatch("change",t.target.value,t)},blur:t=>this.dispatch("blur",t.target.value,t),focus:t=>this.dispatch("focus",t.target.value,t),change:t=>{this.value=t.target.value,this.dispatch("change",t.target.value,t)},keydown:t=>{13===t.keyCode&&this.dispatch("enter",t.target.value,t)}},ref:"vd-input-ref"}),"length"===this.after&&t("span",{class:["vd-input-slot"]},[this.maxlength?t("span",{class:"vd-input-slot__content"},`${String(this.value).length||0}/${this.maxlength}`):console.warn("If you want to use the length attribute, 'maxlength' is required\n ——vdInput")])])},methods:{dispatch(t,e,n){this.$emit("update:vModel","number"===this.valType?Number(e):String(e)),this.$emit(t,"number"===this.valType?Number(e):String(e),n)}},computed:{isCorrect(){return"password"!==this.type&&"text"!==this.type?"text":this.type}},created(){this.value=this.vModel||"",this.valType=typeof this.vModel}},S=C,k=d(S,b,w,!1,null,null,null),I=k.exports;I.install=function(t){t.component(I.name,I)};var $=I,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vd-progress-container"},[t.title?n("span",{staticClass:"progress-title"},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"vd-progress",style:{width:t.width}},[n("div",{staticClass:"vd-progress-percent",style:{width:t.astrictPercent+"%",backgroundColor:t.getProgressColor}})]),n("span",{staticClass:"percent-font"},[t._v(t._s(t.exhibition(t.percent)||t.astrictPercent+"%"))])])},O=[],T={name:"vd-progress",props:{percent:{type:Number,default:0},width:String,color:{type:[Array,Function,String],default:"#214252"},title:String,exhibition:{type:Function,default:()=>!1}},computed:{getProgressColor(){let t=typeof this.color;switch(t){case"object":if(this.color.length>0&&Array.isArray(this.color)){const t=this.color.filter(t=>t.percent===this.percent);return t.length>0?t[0].color:"#214252"}return"#214252";case"string":return this.color;case"function":return this.color(this.percent)}},astrictPercent(){return this.percent>100?100:this.percent<0?0:this.percent}}},M=T,E=d(M,L,O,!1,null,null,null),N=E.exports;N.install=function(t){t.component(N.name,N)};var z=N,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:["vd-link","vd-link-"+t.type,{"vd-link-boder":t.underline}],attrs:{href:t.href||void 0,target:t.target}},[t._t("default")],2)},P=[],j={name:"vd-link",props:{href:String,type:{type:String,default:"default"},underline:{type:Boolean,default:!0},target:{type:String,default:void 0}}},B=j,H=d(B,A,P,!1,null,null,null),D=H.exports;D.install=function(t){t.component(D.name,D)};var F=D,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.imgList.length&&t.value?n("div",{staticClass:"image-viewer__wrapper",style:{"z-index":t.zIndex}},[n("div",{staticClass:"image-viewer__mask",on:{click:function(e){t.closeOnClickMask&&t.hide()}}}),t.loading?n("div",{staticClass:"image-viewer__loading"},[n("svg",{staticClass:"image-viewer__loading__lodingSvg",attrs:{t:"1617243714833",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2206",width:"100",height:"100"}},[n("path",{attrs:{d:"M395.636364 157.533091a157.533091 155.159273 90 1 0 310.318545 0 157.533091 155.159273 90 1 0-310.318545 0Z","p-id":"2207",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M46.545455 551.377455a118.155636 116.363636 90 1 0 232.727272 0 118.155636 116.363636 90 1 0-232.727272 0Z","p-id":"2208",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M802.909091 275.688727a19.688727 19.386182 90 1 0 38.772364 0 19.688727 19.386182 90 1 0-38.772364 0Z","p-id":"2209",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M366.778182 186.088727a121.483636 121.483636 0 0 0-174.778182 0c-48.244364 49.477818-48.244364 129.722182 0 179.2a121.483636 121.483636 0 0 0 174.778182 0c48.244364-49.477818 48.244364-129.722182 0-179.2z","p-id":"2210",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M899.863273 551.377455a39.377455 38.795636 90 1 0 77.591272 0 39.377455 38.795636 90 1 0-77.591272 0Z","p-id":"2211",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M766.557091 829.533091a59.066182 58.181818 90 1 0 116.363636 0 59.066182 58.181818 90 1 0-116.363636 0Z","p-id":"2212",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M473.227636 945.221818a78.778182 77.568 90 1 0 155.136 0 78.778182 77.568 90 1 0-155.136 0Z","p-id":"2213",fill:"#e6e6e6"}}),n("path",{attrs:{d:"M182.295273 827.066182a98.466909 96.977455 90 1 0 193.954909 0 98.466909 96.977455 90 1 0-193.954909 0Z","p-id":"2214",fill:"#e6e6e6"}})])]):t._e(),n("span",{staticClass:"image-viewer__btn image-viewer__close",on:{click:t.hide}},[n("i",{staticClass:"icon xes-close-icon"})]),!t.isSingle&&t.showPreNextBar?[n("span",{staticClass:"image-viewer__btn image-viewer__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[n("i",{staticClass:"imgs-viewer-icon imgs-viewer-icon-arrow-left-bold imgs-prev"})]),n("span",{staticClass:"image-viewer__btn image-viewer__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[n("i",{staticClass:"imgs-viewer-icon imgs-viewer-icon-arrow-right-bold imgs-next"})])]:t._e(),t.currentTitle?n("div",{staticClass:"image-viewer__title"},[t._v(" "+t._s(t.currentTitle)+" ")]):t._e(),n("div",{staticClass:"image-viewer__btn image-viewer__actions"},[n("div",{staticClass:"image-viewer__actions__inner"},[n("div",{staticClass:"actions-block"},[n("i",{staticClass:"icon left-rotation",on:{click:function(e){return t.handleActions("anticlocelise")}}}),n("span",{staticClass:"font-tip"},[t._v("左旋转")])]),n("div",{staticClass:"actions-block"},[n("i",{staticClass:"icon right-rotation",on:{click:function(e){return t.handleActions("clocelise")}}}),n("span",{staticClass:"font-tip"},[t._v("右旋转")])]),n("i",{staticClass:"image-viewer__actions__divider"}),n("div",{staticClass:"actions-block"},[n("i",{staticClass:"icon zoom-out",on:{click:function(e){return t.handleActions("zoomIn")}}}),n("span",{staticClass:"font-tip"},[t._v("放大")])]),n("div",{staticClass:"actions-block"},[n("i",{staticClass:"icon zoom-in",on:{click:function(e){return t.handleActions("zoomOut")}}}),n("span",{staticClass:"font-tip"},[t._v("缩小")])])])]),n("div",{staticClass:"image-viewer__canvas"},[n("img",{key:t.currentImg,ref:"img",staticClass:"image-viewer__img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}})])],2):t._e()])},X=[];const Y=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),Z=function(){return document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}();function V(t){let e=!1;return function(...n){e||(e=!0,window.requestAnimationFrame(i=>{t.apply(this,n),e=!1}))}}const W=function(){return!!window.navigator.userAgent.match(/firefox/i)};let U="";const q={CONTAIN:{name:"contain",icon:"imgs-viewer-icon-full-screen"},ORIGINAL:{name:"original",icon:"imgs-viewer-icon-scale-to-original"}},G=W()?"DOMMouseScroll":"mousewheel";var J={name:"xesImageViewer",props:{value:{type:Boolean,default:!1},imgList:{type:Array,default:()=>[]},zIndex:{type:Number,default:2e3},closeOnClickMask:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},onSwitch:{type:Function,default:()=>{}},currentImageIndex:{type:Number,default:0},showPreNextBar:{type:Boolean,default:!1},spaceAction:{type:Boolean,default:!1}},data(){return{index:0,isShow:!1,infinite:!0,loading:!0,mode:q.CONTAIN,transform:{scale:1,deg:0,offsetX:null,offsetY:null,enableTransition:!1}}},computed:{isSingle(){return this.imgList.length<=1},isFirst(){return 0===this.index},isLast(){return this.index===this.imgList.length-1},isSimple(){return"string"===typeof this.imgList[0]},currentImg(){return this.imgList.length?this.isSimple?this.imgList[this.index]:this.imgList[this.index].url:null},currentTitle(){return this.imgList.length&&!this.isSimple?this.imgList[this.index].title:""},imgStyle(){const{scale:t,deg:e,offsetX:n,offsetY:i,enableTransition:s}=this.transform,r={transform:`scale(${t}) rotate(${e}deg)`,transition:s?"transform .3s":"",left:n+"px",top:i+"px"};return this.mode===q.CONTAIN&&(r.maxWidth=r.maxHeight="100%"),r}},watch:{value(t){this.imgList.length?t?(this.deviceSupportInstall(),document.body.appendChild(this.$el),U=document.body.style.overflow,document.body.style.overflow="hidden"):(this.deviceSupportUninstall(),document.body.removeChild(this.$el),document.body.style.overflow=U,this.reset()):t&&this.hide()},index:{handler:function(t){this.reset(),this.onSwitch(t)}},currentImg(t){this.$nextTick(t=>{const e=this.$refs.img;e&&!e.complete&&(this.loading=!0)})}},created(){this.index=this.currentImageIndex},methods:{hide(){this.$emit("input",!1)},deviceSupportInstall(){this._keyDownHandler=V(t=>{const e=t.keyCode;switch(e){case 27:this.closeOnPressEscape&&this.hide();break;case 32:this.spaceAction&&this.toggleMode();break;case 37:this.showPreNextBar&&this.prev();break;case 38:this.handleActions("zoomIn");break;case 39:this.showPreNextBar&&this.next();break;case 40:this.handleActions("zoomOut");break}}),this._mouseWheelHandler=V(t=>{const e=t.wheelDelta?t.wheelDelta:-t.detail;e>0?this.handleActions("zoomIn",{zoomRate:.03,enableTransition:!1}):this.handleActions("zoomOut",{zoomRate:.03,enableTransition:!1})}),Y(document,"keydown",this._keyDownHandler),Y(document,G,this._mouseWheelHandler)},deviceSupportUninstall(){Z(document,"keydown",this._keyDownHandler),Z(document,G,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad(){this.transform.offsetX=null,this.transform.offsetY=null;const t=this.$refs.img.getBoundingClientRect(),{width:e,height:n}=t,{innerWidth:i,innerHeight:s}=window;this.transform.offsetX=(i-e)/2,this.transform.offsetY=(s-n)/2,this.loading=!1},handleImgError(t){this.loading=!1,t.target.alt="加载失败"},handleMouseDown(t){if(this.loading||0!==t.button)return;t.stopPropagation(),t.preventDefault();const{offsetX:e,offsetY:n}=this.transform,i=t.clientX,s=t.clientY;this._dragHandler=V(t=>{this.transform.offsetX=Number(e)+t.clientX-i,this.transform.offsetY=Number(n)+t.clientY-s});const r=()=>{Z(document,"mouseup",r),Z(document,"mousemove",this._dragHandler)};Y(document,"mousemove",this._dragHandler),Y(document,"mouseup",r)},reset(){this.transform={scale:1,deg:0,offsetX:null,offsetY:null,enableTransition:!1}},toggleMode(){if(this.loading)return;const t=Object.keys(q),e=Object.values(q),n=e.indexOf(this.mode),i=(n+1)%t.length;this.mode=q[t[i]],this.reset()},prev(){if(this.isFirst&&!this.infinite)return;const t=this.imgList.length;this.index=(this.index-1+t)%t},next(){if(this.isLast&&!this.infinite)return;const t=this.imgList.length;this.index=(this.index+1)%t},handleActions(t,e={}){if(this.loading)return;const{zoomRate:n,rotateDeg:i,enableTransition:s}={zoomRate:.2,rotateDeg:90,enableTransition:!0,...e},{transform:r}=this;switch(t){case"zoomOut":r.scale>.2&&(r.scale=parseFloat((r.scale-n).toFixed(3)));break;case"zoomIn":r.scale=parseFloat((r.scale+n).toFixed(3));break;case"clocelise":r.deg+=i;break;case"anticlocelise":r.deg-=i;break}r.enableTransition=s}}},K=J,Q=(n("43fe"),d(K,R,X,!1,null,"dc352a80",null)),tt=Q.exports;tt.install=function(t){t.component(tt.name,tt)};var et=tt;n("bb97");const nt=[f,x,$,z,F,et],it=function(t,e={}){nt.forEach(e=>{rt(t,e)})};var st=it;function rt(t,e){"function"!==typeof t&&"object"!==typeof e||t.component(e.name,e)}"undefined"!==typeof window&&window.Vue&&it(window.Vue);e["default"]=st}})}));